{% extends 'base.html' %}
{% load static %}

{% block content %}
<!-- ================= LOGIN SECTION ================= -->
<section class="login-section d-flex align-items-center justify-content-center vh-100" 
         style="background: url('{% static 'images/hero-bg.jpg' %}') center/cover no-repeat; position: relative;">
    
    <!-- Overlay -->
    <div class="overlay" style="position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); z-index:1;"></div>

    <div class="login-container p-5 rounded shadow-lg bg-light position-relative" style="z-index:2; max-width:400px; width:100%;">
        <h2 class="text-center mb-4 fw-bold">üîê Login</h2>
        <p class="text-center text-muted mb-4">Enter your credentials to access your dashboard</p>

        <form method="post">
            {% csrf_token %}

            <!-- Username or Email -->
            <div class="mb-3">
                <label for="username" class="form-label">Username or Email</label>
                <input type="text" name="username" id="username" class="form-control" required placeholder="Enter username or email">
            </div>

            <!-- Password -->
            <div class="mb-3 position-relative">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" id="password" class="form-control" required placeholder="Enter password">
                <button type="button" class="btn btn-sm btn-outline-secondary show-pass-btn" onclick="togglePassword('password')" 
                        style="position:absolute; right:10px; top:50%; transform:translateY(-50%);">
                    üëÅÔ∏è
                </button>
            </div>

            <!-- Remember Me & Forgot Password -->
            <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="remember">
                    <label class="form-check-label" for="remember">Remember me</label>
                </div>
                <a href="{% url 'password_reset' %}" class="text-decoration-none">Forgot password?</a>
            </div>

            <!-- Submit -->
            <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-lg">Login</button>
            </div>

            <!-- Register Link -->
            <p class="text-center mt-3 text-muted">Don‚Äôt have an account? <a href="{% url 'register' %}">Register</a></p>
        </form>

        <!-- Optional Social Logins -->
        <div class="text-center mt-4">
            <p class="text-muted mb-2">Or login with</p>
            <a href="{% url 'social:begin' 'google' %}" class="btn btn-outline-danger me-2">Google</a>
            <a href="{% url 'social:begin' 'github' %}" class="btn btn-outline-dark">GitHub</a>
        </div>
    </div>
</section>

<!-- ================= STYLES ================= -->
<style>
.login-section {
    position: relative;
    text-align: center;
}
.login-container {
    background: rgba(255,255,255,0.95);
    border-radius: 12px;
}
.login-container h2 {
    color: #333;
}
.show-pass-btn {
    border-radius: 50%;
    padding: 2px 8px;
}
</style>

<!-- ================= SCRIPT ================= -->
<script>
function togglePassword(id) {
    const input = document.getElementById(id);
    if (input.type === "password") {
        input.type = "text";
    } else {
        input.type = "password";
    }
}
</script>
{% endblock %}
